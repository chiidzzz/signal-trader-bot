<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Signals Bot Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/static/styles.css" />
    <link rel="icon" href="data:,">
</head>

<body>
    <header>
        <div class="header-left">
            <h1>üìà Signals Bot Dashboard</h1>
        </div>
        <div id="status-area" class="status-center">
            <span id="status-dot" class="dot gray" title="disconnected"></span>
            <span id="status-text" class="status-text">Awaiting status...</span>
        </div>
    </header>

    <main class="grid" style="grid-template-columns: 2fr 2fr;">
        <section>
            <h2>Live Events</h2>
            <div id="events" class="events"></div>
        </section>

        <section>
            <h2>Settings</h2>
            <form id="cfgForm">
                <div class="row">
                    <label>Dry Run
                        <span class="help"
                            title="If enabled, no real trades are sent to Binance ‚Äî all actions are simulated.">‚ùì</span>
                    </label>
                    <input type="checkbox" name="dry_run" />
                </div>

                <div class="row">
                    <label>Quote Asset
                        <span class="help" title="Currency to trade against (e.g., USDT or USDC).">‚ùì</span>
                    </label>
                    <input type="text" name="quote_asset" value="USDC" />
                </div>

                <div class="row">
                    <label>Capital Entry % (default)
                        <span class="help" title="Fraction of available balance used per trade (0.8 = 80%).">‚ùì</span>
                    </label>
                    <input type="number" step="0.01" min="0" max="1" name="capital_entry_pct_default" value="0.8" />
                </div>

                <div class="row">
                    <label>Max Slippage %
                        <span class="help"
                            title="Allowed price difference between signal entry and live market. Above this, bot uses a limit order.">‚ùì</span>
                    </label>
                    <input type="number" step="0.0001" min="0" max="1" name="max_slippage_pct" value="0.015" />
                </div>

                <div class="row">
                    <label>Use Limit if Slippage Exceeds
                        <span class="help"
                            title="If checked, places a limit order when slippage exceeds allowed % instead of a market order.">‚ùì</span>
                    </label>
                    <input type="checkbox" name="use_limit_if_slippage_exceeds" checked />
                </div>

                <fieldset>
                    <legend>Guards</legend>
                    <div class="row">
                        <label>Spot Only
                            <span class="help"
                                title="If checked, bot trades only spot pairs, ignoring futures signals.">‚ùì</span>
                        </label>
                        <input type="checkbox" name="respect_spot_only" checked />
                    </div>
                    <div class="row">
                        <label>Min Notional (USDC)
                            <span class="help" title="Minimum allowed order size (usually 5 USDT).">‚ùì</span>
                        </label>
                        <input type="number" step="0.01" min="0" name="min_notional_usdt" value="5" />
                    </div>
                    <div class="row">
                        <label>Limit TIF (sec)
                            <span class="help" title="How long a limit order waits before being canceled.">‚ùì</span>
                        </label>
                        <input type="number" step="1" min="10" name="limit_time_in_force_sec" value="180" />
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Symbol Resolution</legend>
                    <div class="row">
                        <label>Prefer (TICKER) in name
                            <span class="help"
                                title="When parsing signals, prefer symbols written in parentheses like (SOL/USDT).">‚ùì</span>
                        </label>
                        <input type="checkbox" name="prefer_symbol_in_parentheses" checked />
                    </div>
                    <div class="row">
                        <label>Fallback fuzzy name search
                            <span class="help"
                                title="Try to match token names loosely if an exact market pair is not found.">‚ùì</span>
                        </label>
                        <input type="checkbox" name="fallback_to_name_search" checked />
                    </div>
                </fieldset>

                <fieldset>
                    <legend>TP / SL Overrides</legend>
                    <div class="row">
                        <label>Override TP Enabled
                            <span class="help"
                                title="If checked, ignore signal TP and use a fixed % above entry.">‚ùì</span>
                        </label>
                        <input type="checkbox" name="override_tp_enabled" />
                    </div>
                    <div class="row">
                        <label>Override TP % (fraction)
                            <span class="help" title="Set your custom take-profit percentage (0.03 = +3%).">‚ùì</span>
                        </label>
                        <input type="number" step="0.0001" min="0" max="1" name="override_tp_pct" value="0.03" />
                    </div>
                    <div class="row">
                        <label>Override SL Enabled
                            <span class="help"
                                title="If checked, ignore signal SL and use a fixed % below entry.">‚ùì</span>
                        </label>
                        <input type="checkbox" name="override_sl_enabled" />
                    </div>
                    <div class="row">
                        <label>Override SL % (fraction)
                            <span class="help" title="Set your custom stop-loss percentage (0.01 = -1%).">‚ùì</span>
                        </label>
                        <input type="number" step="0.0001" min="0" max="1" name="override_sl_pct" value="0.01" />
                    </div>
                    <div class="row">
                        <label>Use Fixed Price Difference for SL
                            <span class="help"
                                title="If enabled, the stop-loss is set by subtracting a fixed price amount from entry (entry ‚àí value) instead of using a percentage.">‚ùì</span>
                        </label>
                        <input type="checkbox" name="override_sl_as_absolute" />
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Safety Watchdogs</legend>
                    <div class="row">
                        <label>Flatten Check Interval (minutes)
                            <span class="help" title="How often the bot checks open orders for missing SL/TP.">‚ùì</span>
                        </label>
                        <input type="number" step="1" min="1" name="flatten_check_interval_min" value="10" />
                    </div>
                    <div class="row">
                        <label>Heartbeat Idle Limit (minutes)
                            <span class="help"
                                title="How long the bot can go without receiving signals before sending an alert.">‚ùì</span>
                        </label>
                        <input type="number" step="1" min="1" name="heartbeat_max_idle_min" value="30" />
                    </div>
                </fieldset>

                <div class="actions">
                    <button type="submit">Save Config</button>
                    <span id="saveInfo" class="muted"></span>
                </div>
            </form>
        </section>
    </main>

    <script src="/static/app.js"></script>
</body>

</html>